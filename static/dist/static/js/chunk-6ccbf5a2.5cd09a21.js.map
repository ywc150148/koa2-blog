{"version":3,"sources":["webpack:///./node_modules/vant/es/dialog/index.js","webpack:///./node_modules/vant/es/dialog/Dialog.js","webpack:///./src/views/user/set.vue?7651","webpack:///src/views/user/set.vue","webpack:///./src/views/user/set.vue?19ab","webpack:///./src/views/user/set.vue","webpack:///./src/views/user/set.vue?fd9c","webpack:///./node_modules/vant/es/dialog/style/index.js"],"names":["instance","_createNamespace","create","createComponent","bem","t","mixins","props","title","String","message","className","callback","Function","beforeClose","messageAlign","cancelButtonText","cancelButtonColor","confirmButtonText","confirmButtonColor","showCancelButton","Boolean","transition","type","default","showConfirmButton","overlay","closeOnClickOverlay","data","loading","confirm","cancel","methods","onClickOverlay","this","handleAction","action","_this","$emit","state","onClose","close","onOpened","onClosed","render","_bem","_ref","_this2","h","arguments","shouldRender","messageSlot","slots","Title","isolated","Content","hasButtons","ButtonGroup","buttons","color","name","value","isInDocument","element","document","body","contains","initInstance","$destroy","extend","el","createElement","propsData","lazyRender","$on","options","Promise","resolve","reject","$el","currentOptions","defaultOptions","lockScroll","getContainer","closeOnPopstate","alert","setDefaultOptions","resetDefaultOptions","install","use","Component","prototype","$dialog","_vm","_h","$createElement","_c","_self","staticClass","attrs","isLogin","on","$event","showDialog","_v","handlelogOut","model","$$v","expression","staticRenderFns","components","computed","mounted","getData","component"],"mappings":"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","file":"static/js/chunk-6ccbf5a2.5cd09a21.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VanDialog from './Dialog';\nimport { isServer } from '../utils';\nvar instance;\n\nfunction isInDocument(element) {\n  return document.body.contains(element);\n}\n\nfunction initInstance() {\n  if (instance) {\n    instance.$destroy();\n  }\n\n  instance = new (Vue.extend(VanDialog))({\n    el: document.createElement('div'),\n    // avoid missing animation when first rendered\n    propsData: {\n      lazyRender: false\n    }\n  });\n  instance.$on('input', function (value) {\n    instance.value = value;\n  });\n}\n\nfunction Dialog(options) {\n  /* istanbul ignore if */\n  if (isServer) {\n    return Promise.resolve();\n  }\n\n  return new Promise(function (resolve, reject) {\n    if (!instance || !isInDocument(instance.$el)) {\n      initInstance();\n    }\n\n    _extends(instance, Dialog.currentOptions, options, {\n      resolve: resolve,\n      reject: reject\n    });\n  });\n}\n\nDialog.defaultOptions = {\n  value: true,\n  title: '',\n  message: '',\n  overlay: true,\n  className: '',\n  lockScroll: true,\n  transition: 'van-dialog-bounce',\n  beforeClose: null,\n  messageAlign: '',\n  getContainer: 'body',\n  cancelButtonText: '',\n  cancelButtonColor: null,\n  confirmButtonText: '',\n  confirmButtonColor: null,\n  showConfirmButton: true,\n  showCancelButton: false,\n  closeOnPopstate: false,\n  closeOnClickOverlay: false,\n  callback: function callback(action) {\n    instance[action === 'confirm' ? 'resolve' : 'reject'](action);\n  }\n};\nDialog.alert = Dialog;\n\nDialog.confirm = function (options) {\n  return Dialog(_extends({\n    showCancelButton: true\n  }, options));\n};\n\nDialog.close = function () {\n  if (instance) {\n    instance.value = false;\n  }\n};\n\nDialog.setDefaultOptions = function (options) {\n  _extends(Dialog.currentOptions, options);\n};\n\nDialog.resetDefaultOptions = function () {\n  Dialog.currentOptions = _extends({}, Dialog.defaultOptions);\n};\n\nDialog.resetDefaultOptions();\n\nDialog.install = function () {\n  Vue.use(VanDialog);\n};\n\nDialog.Component = VanDialog;\nVue.prototype.$dialog = Dialog;\nexport default Dialog;","import { createNamespace } from '../utils';\nimport { BORDER_TOP, BORDER_LEFT } from '../utils/constant';\nimport { PopupMixin } from '../mixins/popup';\nimport { CloseOnPopstateMixin } from '../mixins/close-on-popstate';\nimport Button from '../button';\n\nvar _createNamespace = createNamespace('dialog'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nexport default createComponent({\n  mixins: [PopupMixin, CloseOnPopstateMixin],\n  props: {\n    title: String,\n    message: String,\n    className: null,\n    callback: Function,\n    beforeClose: Function,\n    messageAlign: String,\n    cancelButtonText: String,\n    cancelButtonColor: String,\n    confirmButtonText: String,\n    confirmButtonColor: String,\n    showCancelButton: Boolean,\n    transition: {\n      type: String,\n      default: 'van-dialog-bounce'\n    },\n    showConfirmButton: {\n      type: Boolean,\n      default: true\n    },\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    closeOnClickOverlay: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      loading: {\n        confirm: false,\n        cancel: false\n      }\n    };\n  },\n  methods: {\n    onClickOverlay: function onClickOverlay() {\n      this.handleAction('overlay');\n    },\n    handleAction: function handleAction(action) {\n      var _this = this;\n\n      this.$emit(action);\n\n      if (this.beforeClose) {\n        this.loading[action] = true;\n        this.beforeClose(action, function (state) {\n          if (state !== false && _this.loading[action]) {\n            _this.onClose(action);\n          }\n\n          _this.loading.confirm = false;\n          _this.loading.cancel = false;\n        });\n      } else {\n        this.onClose(action);\n      }\n    },\n    onClose: function onClose(action) {\n      this.close();\n\n      if (this.callback) {\n        this.callback(action);\n      }\n    },\n    onOpened: function onOpened() {\n      this.$emit('opened');\n    },\n    onClosed: function onClosed() {\n      this.$emit('closed');\n    }\n  },\n  render: function render() {\n    var _bem,\n        _this2 = this,\n        _ref;\n\n    var h = arguments[0];\n\n    if (!this.shouldRender) {\n      return;\n    }\n\n    var message = this.message,\n        messageAlign = this.messageAlign;\n    var messageSlot = this.slots();\n    var title = this.slots('title') || this.title;\n    var Title = title && h(\"div\", {\n      \"class\": bem('header', {\n        isolated: !message && !messageSlot\n      })\n    }, [title]);\n    var Content = (messageSlot || message) && h(\"div\", {\n      \"class\": bem('content')\n    }, [messageSlot || h(\"div\", {\n      \"domProps\": {\n        \"innerHTML\": message\n      },\n      \"class\": bem('message', (_bem = {\n        'has-title': title\n      }, _bem[messageAlign] = messageAlign, _bem))\n    })]);\n    var hasButtons = this.showCancelButton && this.showConfirmButton;\n    var ButtonGroup = h(\"div\", {\n      \"class\": [BORDER_TOP, bem('footer', {\n        buttons: hasButtons\n      })]\n    }, [this.showCancelButton && h(Button, {\n      \"attrs\": {\n        \"size\": \"large\",\n        \"loading\": this.loading.cancel,\n        \"text\": this.cancelButtonText || t('cancel')\n      },\n      \"class\": bem('cancel'),\n      \"style\": {\n        color: this.cancelButtonColor\n      },\n      \"on\": {\n        \"click\": function click() {\n          _this2.handleAction('cancel');\n        }\n      }\n    }), this.showConfirmButton && h(Button, {\n      \"attrs\": {\n        \"size\": \"large\",\n        \"loading\": this.loading.confirm,\n        \"text\": this.confirmButtonText || t('confirm')\n      },\n      \"class\": [bem('confirm'), (_ref = {}, _ref[BORDER_LEFT] = hasButtons, _ref)],\n      \"style\": {\n        color: this.confirmButtonColor\n      },\n      \"on\": {\n        \"click\": function click() {\n          _this2.handleAction('confirm');\n        }\n      }\n    })]);\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": this.transition\n      },\n      \"on\": {\n        \"afterEnter\": this.onOpened,\n        \"afterLeave\": this.onClosed\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.value\n      }],\n      \"attrs\": {\n        \"role\": \"dialog\",\n        \"aria-labelledby\": this.title || message\n      },\n      \"class\": [bem(), this.className]\n    }, [Title, Content, ButtonGroup])]);\n  }\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-set\"},[_c('van-button',{attrs:{\"type\":\"default\",\"disabled\":!_vm.isLogin,\"size\":\"large\"},on:{\"click\":function($event){_vm.showDialog=true}}},[_vm._v(\"退出登录\")]),_c('van-dialog',{attrs:{\"title\":\"退出登录？\",\"show-cancel-button\":\"\"},on:{\"cancel\":function($event){_vm.showDialog = false},\"confirm\":_vm.handlelogOut},model:{value:(_vm.showDialog),callback:function ($$v) {_vm.showDialog=$$v},expression:\"showDialog\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"user-set\">\r\n    <van-button type=\"default\" :disabled=\"!isLogin\" size=\"large\" @click=\"showDialog=true\">退出登录</van-button>\r\n\r\n    <van-dialog\r\n      v-model=\"showDialog\"\r\n      title=\"退出登录？\"\r\n      show-cancel-button\r\n      @cancel=\"showDialog = false\"\r\n      @confirm=\"handlelogOut\"\r\n    ></van-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Dialog } from \"vant\";\r\nimport { mapState, mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"userSet\",\r\n  components: {\r\n    [Dialog.Component.name]: Dialog.Component\r\n  },\r\n  data() {\r\n    return {\r\n      showDialog: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"isLogin\"])\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    ...mapMutations([\"logOut\"]),\r\n    handlelogOut() {\r\n      this.getData();\r\n    },\r\n    async getData() {\r\n      try {\r\n        await this.$axios\r\n          .post(RESTFULAPI.public.logOut)\r\n          .then(response => {\r\n            this.$toast(\"已退出登录\");\r\n          })\r\n          .catch(error => {\r\n            this.$toast(error.data.msg|| error || \"退出登录发生错误\");\r\n          });\r\n      } catch(err) {\r\n        console.log(err)\r\n      }\r\n\r\n      this.logOut();\r\n      this.$router.replace(\"/user\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import \"../../assets/css/user.less\";\r\n\r\n.user-set {\r\n  padding: 30px 20px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./set.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./set.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./set.vue?vue&type=template&id=311f5d46&scoped=true&\"\nimport script from \"./set.vue?vue&type=script&lang=js&\"\nexport * from \"./set.vue?vue&type=script&lang=js&\"\nimport style0 from \"./set.vue?vue&type=style&index=0&id=311f5d46&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"311f5d46\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./set.vue?vue&type=style&index=0&id=311f5d46&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./set.vue?vue&type=style&index=0&id=311f5d46&scoped=true&lang=less&\"","import '../../style/base.css';\nimport '../../popup/index.css';\nimport '../../image/index.css';\nimport '../index.css';"],"sourceRoot":""}